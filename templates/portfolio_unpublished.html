{% extends "base.html" %} 

{% block content %}
<div class="row">
  {% if user.is_superuser %}
  <div class="col-md-12 mb-3">
    <a href="{% url 'project_create' %}" class="btn btn-secondary bg-dark text-white"
      >Add project <i class="fa-solid fa-circle-plus"></i></a
    >
    <a href="{% url 'portfolio' %}" class="btn btn-secondary bg-dark text-white"
      >See Published <i class="fa-solid fa-toggle-on"></i></a
    >
  </div>
  {% endif %}
  {% for project in projects %}
  <div class="col-md-4">
    <div class="card mb-4 shadow-sm bg-dark">
      {% if "placeholder" in project.image_main.url %}
      <img
        class="card-img-top"
        src="https://codeinstitute.s3.amazonaws.com/fullstack/blog/default.jpg"
      />
      {% else %}
      <img class="card-img-top" src=" {{ project.image_main.url }}" />
      {% endif %}
      <div class="card-body text-center">
        <h5 class="card-title">{{ project.title }} {% if user.is_superuser %}
          <a href="{% url 'project_update' project.slug  %}" class="text-warning"
            ><i class="fa-solid fa-pen-to-square"></i></a>
          <a href="{% url 'project_delete' project.slug  %}" class="text-danger"
            ><i class="fa-solid fa-trash"></i></a>
          {% endif %}</h5>
        <a href="{{ project.github_url }}" target="_blank" class="text-white"
          ><i class="fa-brands fa-github"></i
        ></a>
        <a href="{{ project.live_url }}" target="_blank" class="text-white"
          ><i class="fa-solid fa-globe"></i
        ></a>
        <a href="{% url 'project_detail' project.slug  %}" class="text-white"
          ><i class="fa-solid fa-circle-info"></i
        ></a>
      </div>
    </div>
  </div>

  {% if forloop.counter|divisibleby:6 %}
</div>
<div class="row">{% endif %} {% endfor %}</div>
{% if is_paginated %}
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
        <li><a href="?page={{ page_obj.previous_page_number }}" class="btn btn-secondary">&laquo; PREV </a></li>
        {% endif %}
        {% if page_obj.has_next %}
        <li><a href="?page={{ page_obj.next_page_number }}" class="btn btn-secondary"> NEXT &raquo;</a></li>

        {% endif %}
    </ul>
</nav>
{% endif %}
{% endblock %}

